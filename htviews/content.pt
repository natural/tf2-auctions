<html metal:extend-macro="context.base.macros.layout" metal:define-macro="layout">
<head>
    <metal:slot fill-slot="title">
	<metal:slot define-slot="title"><title>TF2Bay.com</title></metal:slot>
    </metal:slot>
    <metal:slot define-slot="title" />
    <metal:slot fill-slot="meta">
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
    </metal:slot>
    <metal:slot fill-slot="style">
	<metal:assoc tal:repeat="link controller.default_css + controller.related_css">
            <link rel="stylesheet" href="/media/css/${link}" type="text/css" media="screen, projection" />
	</metal:assoc>
        <!--[if lt IE 10]><link rel="stylesheet" href="/media/css/ie.css" type="text/css" media="screen, projection"><![endif]-->
        <metal:slot define-slot="style" />
    </metal:slot>
    <metal:slot fill-slot="script">
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<metal:assoc tal:repeat="link controller.default_js + controller.related_js">
	    <script type="text/javascript" src="/media/js/${link}"></script>
	</metal:assoc>
        <metal:slot define-slot="script" />
    </metal:slot>
</head>


<body metal:fill-slot="body">
    <div id="header-wrapper">
	<div id="header" metal:fill-slot="header">
	    <div id="main-logo">
		<a href="/"><img src="/media/img/tf2bay-logo.png" /></a>
	    </div>
	    <span id="site-buttons">
		<metal:buttons tal:condition="user">
		    <span id="avatar"></span>
		    <a class="big-button" href="/profile/${user.nickname()}#bids">My Bids</a>
		    <a class="big-button" href="/profile/${user.nickname()}#listings">My Listings</a>
		    <a class="big-button m-r-1" href="/listing/add">Add Listing</a>
		</metal:buttons>
		<a class="button" href="/browse">Browse</a>
		<metal:button tal:condition="not user">
		    <a class="button login-button" href="/login">Login</a>
		</metal:button>
		<metal:button tal:condition="user">
		    <a class="button logout-button" href="${controller.logout_url()}">Logout</a>
		</metal:button>
	    </span>
	    <metal:define define-slot="header" />
	    <div class="clear"></div>
	</div>
    </div>

    <div id="profile-wrapper" metal:fill-slot="menu">
	<metal:slot define-slot="menu-prime">
	    <metal:slot define-slot="menu" />
	</metal:slot>
    </div>

    <metal:slot define-slot="main-prime">
        <div id="tooltip" class="null">
            <div id="tooltip-top-shim"></div>
            <div id="tooltip-inner">
                <h4>title</h4>
                <div class="level">level</div>
                <div class="alt">alt text</div>
                <div class="positive">positive text</div>
                <div class="negative">negative text</div>
            </div>
        </div>
	<div id="content" metal:fill-slot="main">
            <div id="message"></div>
	    <metal:slot define-slot="main" />
	</div>
    </metal:slot>

    <metal:slot define-slot="footer-prime">
	<div id="footer" metal:fill-slot="footer">
	    <div class="text-centered">
		<a href="#">about</a> |
		<a href="#">faq</a> |
		<a href="#">terms of service</a> | etc...
	    </div>
	    <div class="text-centered">
		Powered by <a href="http://steampowered.com">Steam</a>
		(but we don't have anything to do with Valve or Steam)
	    </div>
	    <metal:slot define-slot="footer" />
	</div>
    </metal:slot>

<metal:iesucks tal:condition="not controller.is_devel()">
<!--[if lt IE 9]>
<script type="text/javascript">var isIE=true</script>
<![endif]-->
<script type="text/javascript" tal:define="v python:'$buoop'">
var ${v} = {vs:{i:9,f:5,o:10.01,s:3,n:9}, test:typeof(isIE)!='undefined'}
${v}.ol = window.onload;
window.onload=function(){
if (${v}.ol) ${v}.ol();
var e = document.createElement("script");
e.setAttribute("type", "text/javascript");
e.setAttribute("src", "http://browser-update.org/update.js");
document.body.appendChild(e);
}
</script>
</metal:iesucks>

</body>
</html>
